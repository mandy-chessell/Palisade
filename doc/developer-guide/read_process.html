
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Standard flow for a read request through the Palisade system Â· Palisade Doc</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codetabs/codetabs.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="deployment_ideas.html" />
    
    
    <link rel="prev" href="component_descriptions.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="developer_guide.html">
            
                <a href="developer_guide.html">
            
                    
                    Developer Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="initial_requirements.html">
            
                <a href="initial_requirements.html">
            
                    
                    Initial Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="design_principles.html">
            
                <a href="design_principles.html">
            
                    
                    Design Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="high_level_architecture.html">
            
                <a href="high_level_architecture.html">
            
                    
                    High level architectural diagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="map_reduce_architecture.html">
            
                <a href="map_reduce_architecture.html">
            
                    
                    High level architecture using a map reduce client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="component_descriptions.html">
            
                <a href="component_descriptions.html">
            
                    
                    Description of each component
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.6" data-path="read_process.html">
            
                <a href="read_process.html">
            
                    
                    Standard flow for a read request through the Palisade system
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="deployment_ideas.html">
            
                <a href="deployment_ideas.html">
            
                    
                    How might the system be deployed?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="security_considerations.html">
            
                <a href="security_considerations.html">
            
                    
                    Security considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Roadmap for Palisade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../use_cases.html">
            
                <a href="../use_cases.html">
            
                    
                    Use Cases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../service/">
            
                <a href="../../service/">
            
                    
                    Services
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../service/audit-service/">
            
                <a href="../../service/audit-service/">
            
                    
                    Audit Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../service/cache-service/">
            
                <a href="../../service/cache-service/">
            
                    
                    Cache Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../service/data-service/">
            
                <a href="../../service/data-service/">
            
                    
                    Data Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../service/palisade-service/">
            
                <a href="../../service/palisade-service/">
            
                    
                    Palisade Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../service/policy-service/">
            
                <a href="../../service/policy-service/">
            
                    
                    Policy Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../service/resource-service/">
            
                <a href="../../service/resource-service/">
            
                    
                    Resource Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../service/user-service/">
            
                <a href="../../service/user-service/">
            
                    
                    User Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../example/">
            
                <a href="../../example/">
            
                    
                    Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../example/single-jvm-example/">
            
                <a href="../../example/single-jvm-example/">
            
                    
                    Single JVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../example/multi-jvm-example/">
            
                <a href="../../example/multi-jvm-example/">
            
                    
                    Multi JVM/Docker deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../example/mapreduce-example/">
            
                <a href="../../example/mapreduce-example/">
            
                    
                    Map Reduce
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Libraries
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../library/koryphe-library/">
            
                <a href="../../library/koryphe-library/">
            
                    
                    Koryphe
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Other
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../other/ways_of_working.html">
            
                <a href="../other/ways_of_working.html">
            
                    
                    Ways of Working
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <a target="_blank" href="ref://doc/javadoc">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Standard flow for a read request through the Palisade system</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="standard-flow-for-a-read-request-through-the-palisade-system">Standard flow for a read request through the Palisade system</h2>
<p><img src="../img/sequence.png" alt="picture"></p>
<ol>
<li><p>The user makes use of a plug-in (client code) for the data processing technology that they are using which makes it almost invisible to them that they are actually querying data via Palisade.</p>
</li>
<li><p>For a distributed workflow that client code will usually be made up of a driver component and an executor/mapper component. The driver component starts by registering the data request with the 
palisade service, stating the resources/alias mapping to resources that they want to query, along with a user id and any required context such as a justification for querying the data.</p>
</li>
<li><p>The palisade service receives that request, authenticates the user and then sends a message to the audit service to log the request.</p>
</li>
<li><p>The palisade service then requests the mapping of how to connect to the relevant data service(s) to retrieve each of the resources requested. This may allow aliases which map to a list of resources, 
which would need to be resolved by the resource service.</p>
</li>
<li><p>The palisade service then requests the full details about the user from the user service.</p>
</li>
<li><p>The Palisade service requests the details of which of the resources the user is allowed to access at a resource level.</p>
</li>
<li><p>The palisade service then requests from the policy service the record level rules to be applied to each of the resources, passing in the full user details returned by the user service, 
any context passed in by the client code and the list of resources returned by the resource service.</p>
</li>
<li><p>The palisade service then caches the response from the policy service in the cache service, so that any palisade service can respond to the data server later on.</p>
</li>
<li><p>The palisade service then returns the resource to connection detail mapping of the resources that the user is allow to access to the client in response to the client registering the request.</p>
</li>
<li><p>The client code, having received the mapping of resource-to-connection details, can now split the resources up over its executors and then each executor can request each of the resources
from the relevant data service(s).</p>
</li>
<li><p>The data service receives the request to read a resource and passes that request to the palisade service to authenticate the request and provide the record level rules to be applied to that resource.</p>
</li>
<li><p>The palisade service responds to the data service by retrieving from the cache service the required details that was cached in step 8.</p>
</li>
<li><p>The data service uses the response to read the resource and apply the rules.</p>
</li>
<li><p>The filtered and transformed data is then streamed back to the client.</p>
</li>
<li><p>The client then formats the code in the way that the data processing technology expects the data, so the user&apos;s code can proceed as if Palisade was never there.</p>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="component_descriptions.html" class="navigation navigation-prev " aria-label="Previous page: Description of each component">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="deployment_ideas.html" class="navigation navigation-next " aria-label="Next page: How might the system be deployed?">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Standard flow for a read request through the Palisade system","level":"1.2.6","depth":2,"next":{"title":"How might the system be deployed?","level":"1.2.7","depth":2,"path":"doc/developer-guide/deployment_ideas.md","ref":"doc/developer-guide/deployment_ideas.md","articles":[]},"previous":{"title":"Description of each component","level":"1.2.5","depth":2,"path":"doc/developer-guide/component_descriptions.md","ref":"doc/developer-guide/component_descriptions.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-interactive","codetabs","prism","-highlight","github","anchorjs","otherlink"],"root":"./","styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/gchq/palisade"},"search":{"maxIndexSize":5000000},"otherlink":{},"codetabs":{},"lunr":{"maxIndexSize":5000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"expandable-chapters-interactive":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"contents.md"},"variables":{},"title":"Palisade Doc","gitbook":"3.x.x"},"file":{"path":"doc/developer-guide/read_process.md","mtime":"2018-11-16T11:44:34.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-16T12:52:41.996Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-codetabs/codetabs.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-otherlink/js/otherlink.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

